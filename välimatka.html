<!DOCTYPE html>
<html lang="en">

<style>
    body {
        color: black !important;
    }
    .titteli {
        color: black !important;
        text-align: center;
    }

    .black {
        color: black !important;
    }
</style>

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="välimatka.js" defer></script>
    <link href='body.css' rel='stylesheet'>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests"> 
</head>

<body>
    <h1 class="titteli" id="titteli"></h1>
    <div class="card-container">
        <div class="card" style="width: 400px;">
            <div class="text-center">
                <input type="checkbox" style="margin-bottom: 20px;" onclick="juttu(this);">Nouto?</button><br>
                <div id="välimatka__">
                    <input type="text" name="osoite" id="osoite"> <button onclick="välimatka(document.getElementById('osoite').value)" type="submit">Anna osoite</button>
                    <p id="välimatka_" style="display: none; margin-top: 20px;" class="black">Välimatka: <span id="välimatka"></span>km</p>
                    <p id="välimatkaKusi" style="display: none;" class="black">Osoitetta ei löytynyt</p>
                    <p id="awdad" class="titteli">Toimitusaika: <span id="toimitusAika">?</span> min</p>
                    <div id="välimatkaKusi2" style="display: none;" class="black">
                        <p class="black">Emme toimita yli 20km kauas!</p>
                        <p class="black" style="font-size: 12px;">Jos et ole yli 20km päässä tarkenna hakua!</p>
                    </div>
                </div>
                <div class="text-center three">
                    <h3 class="tieto">Kuitti</h3>
                    <p class="titteli">Tilasit <span id="tilPizza"></span> pitsan</p>
                    <p class="titteli">Koko: <span id="pizKok"></span></p>
                    <p class="titteli">Pohja: <span id="pizPojh"></span></p>
                    <p class="titteli">Kastike: <span id="pizKas"></span></p>
                    <p class="titteli">Täytteet: <span id="pizTäyt"></span></p>
                    <p class="titteli">Hinta: <span id="pizHint"></span>€</p>
                </div>
        </div>          
        <input type=button class="btn btn-success" onClick="location.href='Arvostele.html'" value='Varmista tilaus'>
    </div>
</body>
</html>

<script defer>
    let koko = document.getElementById('pizKok');
    let hinta = document.getElementById('pizHint');
    let täyt = document.getElementById('pizTäyt');
    let nimi = document.getElementById('tilPizza');
    let kastike = document.getElementById('pizKas');
    let pohja = document.getElementById('pizPojh');
    let pitsa = localStorage.getItem('pitsaData');
    let toimitusAika = document.getElementById('toimitusAika');

    let data = JSON.parse(pitsa);

    koko.innerHTML = data.pizza.koko;
    hinta.innerHTML = data.pizza.hinta;
    nimi.innerHTML = data.pizza.nimi;
    pohja.innerHTML = data.pizza.pohja;
    kastike.innerHTML = data.pizza.kastike
    täyt.innerHTML = data.pizza.täyte.replace(/,/g, ', ');

    function juttu(a) {
        if (a.checked) {
            document.getElementById('välimatka__').style.display = 'none';
            document.getElementById('awdad').style.display = 'none';
        } else {
            document.getElementById('välimatka__').style.display = 'block';
            document.getElementById('awdad').style.display = 'block';
        }
        setTimeout(function() {
            if (a.checked)
            alert("Muista tulla 5 min ennen pitan valmistusta!");
        }, 100);
        
    }

</script>